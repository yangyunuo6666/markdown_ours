 [toc]
***

# 计算机基础知识
## 硬件系统构成：主机（CPU和储存器）和外设
1. CPU（运算器和控制器）
   + 运算器：ALU、AC、DR、PSW
      * 功能：（1）执行所有的算术运算和逻辑运算并进行逻辑测试。
      *  **算术逻辑单元(ALU)**：负责处理数据，实现对数据的算术运算和逻辑运算。
      *  **累加寄存器（AC）**：也称累加器，当算术逻辑单元ALU执行运算时，为其提供一个工作区。(3)数据缓冲寄存器(DR）：对内存进行读写操作时，用DR暂时存放由内存读写的一条指令或一个数据字。作为CPU和内存、外设之间在操作速度上的缓冲，以及数据传送的中转站。
      *  **状态条件寄存器（PSW)**：保存根据算术指令和逻辑指令运行或测试的结果建立的各种条件码的内容，主要分为状态标志和控制标志。如运算结果进位标志(C)、运算结果溢出标志(V)、运算结果为0标志(Z)、运算结果为负标志（N）、中断标志（1）、方向标志（D）等。
   + 控制器：IR、PC、AR、ID
      * 功能：决定了计算机运行过程的自动化。它不仅要保证程序的正确执行，而且要能够处理异常事件。包括：指令控制逻辑、时序控制逻辑、总线控制逻辑和中断控制逻辑等几个部分。
      * **指令寄存器（1R）**：用来暂时存放一条 (**正在执行的**)指令，由指令译码器根据指令寄存器中的内容产生各种微操作指令，控制其它部分协调工作
      * **程序计数器（PC）**：存放的是将要执行的下一条指令的地址。
      * **地址寄存器(AR）**：保存当前CPU所访问的内存单元的地址。由于内存和CPU存在操作速度上的差异，所以需要使用AR保存地址信息，直到内存读/写操作完成为止。
      * **指令译码器（ID)**：对指令中的操作码字段进行分析解释，识别该指令规定的操作，然后向操作控制器发出具体的控制信号。
   + 寄存器组：专用寄存器、通用寄存器

2. 存储器
   + 内部存储器（主存）：速度快，容量小。
   + 外部存储器（外存）：速度慢，容量大。如便盘输入/输出设备（外设）：键盘、鼠标、扫描仪、打印机等
   + 总线：同时只允许一个部件访问总线，以保证总线上的数据不冲突，但可有多个部件接收总线上的数据。
     - 内部总线（系统内线）：CPU、主存、I/O接口之间
       * **数据总线(DB)**：用来传送数据信息，是双向的。DB的宽度决定了CPU和计算机其他设备之间每次交换数据的位数。
       * **地址总线(AB)**：用于传送CPU发出的地址信息，是单向的。地址总线的宽度决定了CPU的最大寻址能力。
       * **控制总线（CB）**：用来传送控制信号、时序信号和状态信息等。CB中的每一条线的信息传送方向是单方向且确定的，但CB作为一个整体则是双向的。
       * **总线的缺点**：可能导致数据传输减慢，可能由两点间距改变。
       * ***总线的优点***：① 简化了系统结构，便于系统设计制造;
      ②大大减少了连线数目，便于布线，减小体积，提高系统的可靠性;•③便于接口设计，所有与总线连接的设备均采用类似的接口;④ 便于系统的扩充、更新与灵活配置，易于实现系统的模块化;⑤便于设备的软件设计，所有接口的软件就是对不同的接口地址进行操作;便于故障诊断和维修，同时也降低了成本。
    - 外部总线：与键盘等之间的总线。
  

## 输入输出技术
1. 程序控制方式：
   +  *无条件传送*：外设总是准备好的，无条件，随时接收和提供数据。
   +  *程序查询方式*：CPU利用程序来查询外设的状态，准备好了再传数据。
   +  **中断方式**：CPU不等待，也不执行程序去查询外设的状态，**而是外设在准备好以后，向CPU发出中断请求**以上三种方式都需要CPU的参与。
   +  DMA方式：数据的传输是**在主存和外设之间直接进行，不需要CPU干预**，实际操作是由**DMAC硬件**直接执行完成的。通道方式和外围处理机方式：更进一步减轻了CPU对1/0操作的控制，更进一步提高了CPU的工作效率，但是是以增加更多硬件为代价的。**用DMA方式传输数据，每一个数据都需要占用一个总线周期。**

## 进制转化（小数部分为负次方）
1. B O D H(X),二 八 十 十六
2. 十六进制，11到15用A到F表示。
3. 八、十六进制转化为二进制：
   + 八转二，每一位数字写为3位二进制。
   + 十六转二，每一位数字写为4位二进制。
# 其他
1. 计算机运行遇到突发情况会中断并保存现场（为了返回继续处理程序。）
2. I/O接口功能
   + 数据缓冲与暂存
   + 错误和状态检查机制
   + 操作的控制和定时
   + 数据格式转换
   + 与主机号和设备通信。
3. **周期**
   + 指令周期：是指执行一条指令所需要的时间。
   + **时钟周期：也称为振荡周期，是计算机中最基本的、最小的时间单位**在一个时钟周期内，CPU仅仅完成一个最基本的动作。
   + 总线周期：通常把CPU通过总线对存储器或1/0接口进行一次访问所需要的时间称为一个总线周期。
   + CPU周期：又称为机器周期。CPU的操作速度快，但访问内存的速度却慢得多，我们把从**内存读取一条指令的最短时间，称之为机器周期**
# 计算机体系结构和存储结构
## 计算机体系结构分类：
+ 处理机数量分类：
  * 单处理器系统
  * 并行与多处理系统
  * 分布式处理系统
+ 微观上按并行程度分类：
  * Flynn分类法
  * 冯泽云分类法
  * handler分类法等
### 流水线技术（取指令，解析指令，执行指令）
1. 流水线周期：最慢子任务执行时间。
2. 流水线执行N条指令需要的时间：T(取指令，解析指令，执行指令+T)+T(max(取指令，解析指令，执行指令))*N
3. 吞吐率(单位时间指令的执行数量)：1/TT(max(取指令，解析指令，执行指令))
4. 加速比：S=T(流水线执行)/T(不使用流水线执行)
## 储存系统：
1. 存储器的分类：
+ 按存储器所处的位置：可分为内存和外存。
+ 按构成存储器的材料：可分为磁存储器、半导体存储器和光存储器。
+ 按存储器的工作方式：可分为读写存储器和只读存储器。
+ 按访问方式：可分为按地址访问的存储器和按内容访问的存储器。•按寻址方式：可分为随机存储器、顺序存储器和直接存储器。
1. 随机访问存储器：
+ 静态随机访问存储器(SRAM)
+ 动态随机访问存储器(DRAM)
1. 高速缓存系统
   * 简介：Cache是介于CPU与主存之间的一级存储器，其容量较小，但速度较快，一般比主存快5～10倍，**但是比寄存器慢**
   * 作用是：调和CPU的速度与内存存取速度之间的差异，从而提升系统性能。
   * 它使用的是程序的局部性原理，其内容是主存局部域的副本。
   * 当CPU需要读取数据时，首先判断要访问的信息是否在Cache中，如果在即为命中，如果不在，就要按替换算法把主存中的一块信息调入Cache中。替换算法有：随机替换算法、先进先出替换算法、近期最少使用替换算法、优化替换算法等。
   * CPU工作时给出的是主存的地址，要从Cache存储器中读写信息，就需要将主存地
址转换成Cache存储器的地址，这种地址的转换叫作地址映像。
   + 地址映像方式：
    * **直接映像**：直接映像：主存的块与Cache块的对应关系是固定的，主存中的块只能存放在Cache存储器的相同块号中。优点：地址变换简单、访问速度快。缺点：块冲突率高、Cache空间得不到充分利用。
    * **全相联映像**：主存与Cache存储器均分成容量相同的块。允许主存的任一块可以调入Cache存储器的任何一个块的空间中。优点：灵活，块冲突率低，只有在Cache中的块全部装满后才会出现冲突，Cache利用率高。缺点：无法从主存块号中直接获得所对应Cache的块号，变换比较复杂，地址变换速度慢，成本高。
    * **组相联映像**：是前两种方式的折衷。将Cache中的块再分成组。组采用直接映像方式而块采用全相联映像方式。主存的任何区的0组只能存到Cache的0组中，1组只能存放到1组中，依此类推。而组内的块可以存入Cache中相同组的任一块中。公式：主存地址位数=区号+组号+主存块号+块内地址Cache地址位数=组号+绍内块号+块内地址
1. 编码的计算：
+  需要编号数目转化为二进制数，有几位即需要几位数字来储存。（1MB=2**10KB）
# 安全性、可靠性及系统测评
## 对称加密技术
+ 定义：文件加密和解密使用了相同的密钥，或者不同但是易从一个推出另一个。
+ 代表算法：
  - DES：主要采用替换和移位加密，用56位的密钥对64位的二进制数据块进行加密。
  - 3DES：用两个56位的密钥。
  - RC-5：
  - lDEA:类似DES，但密钥为1289位。
  - AES：基于排序和置换运算进行加密。
## 非对称加密技术
+ 定义：文件加密和解密使用一对密钥，加密密钥和解密密钥，公钥是公开的，私钥是非公开的。
+ 加密模型：数据用公钥加密后发送，仅有私钥可解密数据。(公钥是公开的，私钥是接收者持有的。)
+ 认证模型：用私钥加密后由公钥持有者进行解密。
+ 代表算法：
  RSA，基于大素数分解的困难性。
+ 特点：保密性好，无需频繁交换密钥，但是加密解密时间长，不适合对文件加密。
## 信息摘要(数据指纹)
+ 哈希函数：输入不定长字符串，返回定长字符串又称为哈希值（MD5码）。
+ 单向哈希函数：用于产生信息摘要。
+ 对于特定的文件，信息摘要唯一。（可判断信息是否被篡改，通过哈希值是否一致）
+ 由哈希值不可推出原文。
+ 数字签名中，可解决验证签名和用户身份验证、不可抵赖性问题。(认证模型升级版)
  - 用哈希函数生成MD5码并用私钥加密，加密后的信息和已加密的MD5码一起发送给接收者，接收者用同样的哈希函数生成MD5码与公钥解密后的MD5码比较(**可确认发送者的身份和信息是否被修改过，但是信息不保密**)。
+ 数字加密（数字信封）(加密模型升级版)
  - 先用对称密钥K加密得到密文D，再用接收者的公钥对密钥K加密得到K1，发送K1和D。(**可保证信息保密，但无法确定信息来源**)
+ MD2，MD4,MD5是广泛运用的哈希函数，产生128位的摘要。(MD为信息摘要的英文简写)
## 计算机的可靠性
+ 概念：
 -  计算机系统的可靠性:是指从它开始运行(t=0)到某时刻t这段时间内能正常运行的概率，用R(t)表示。 
 -  计算机系统的失效率:是指单位时间内失效的元件数与元件总数的比例，用入表示。 
 -  平均无故障时间(MTBF):两次故障之间能正常工作的时间的平均值称为
平均无故障时间 MTBF=1/入.
 - 计算机系统的可维修性:一般平均修复时间(MTRF)表示，指从故障发生到机器修复平均所需的时间。 
 - 计算机系统的可用性:指计算机的使用效率，它以系统在执行任务的任意时刻能正常工作的概率A表示。A=MTBF/(MTBF+MTRF)
+ 串联和并联系统
  - 串联系统可靠性：R = R1*R2*...*RN
  - 并联系统可靠性：R = 1-(1-R1)*(1-R2)*(1-RN)
# 程序语言知识
## 程序语言概述
+ 低级语言：机器语言和汇编语言。
+ 高级语言：编程语言
+ 汇编：用汇编语言写的程序，需要用汇编程序进行翻译成目标程序。
+ 解释与编译：用高级语言写的，需进行解释或者编译。
## 编译与解释程序
+ 解释程序(解释器)：
  逐条解释与运行。
+ 编译程序(编译器)：
  先将源程序编译为目标程序，执行目标程序。  
+ 对比：
  - 编译效率高
  - 解释更灵活更好移植。
## 程序语言的数据成分和控制成分
+ 数据成分
  - 常量和变量，数据类型。
+ 控制成分：
  - 顺序结构
  - 选择结构
  - 循环结构
## 编译的过程
+ 前端：(词法分析，语法分析，语义分析，中间代码生成)
  - 词法分析：检查单词符号错误。(单词包括符号)
  - 语义分析：检查语法错误，若无错则可正确构造语法树。
  - 语义分析：检查语义错误(如整除对象为float型)。
  - 中间代码分析：根据语义分析输出生成中间代码(常见有后缀式，四元式，树形表示)。
  - 与高级语言相关，多种语言的程序在同一机器上运行修改前端。
+ 后端：(代码优化，目标代码生成)
  - 代码优化：将中间代码或目标代码进行优化其空间效率和时间效率。
  - 目标代码生成：将中间代码转化为绝对的指令代码，可重定位的指令代码和汇编代码。(与具体机器密切相关)
  - 与机器语言相关，一种程序在多台机器上运行修改后端。
## 三缀表达式
+ 三者的相互转行：
  - 中转前：
    * 按运算优先级加上括号
    * 把括号内的运算符提到当前括号前
    * 去除所有的括号
  - 中转后：
   * 按运算优先级加上括号
   * 把括号内的运算符提到当前括号后
   * 去除所有的括号
## 查找算法：
+ 顺序查找：
+ 二分查找：
+ 分块(索引)查找：根据关键字查找，先在索引表中查找，若索引表中无该关键字，则到索引块中查找。eg:成绩分为A~D四个块。  
+ 哈希表查找：
## 网络模型
+ OSI七层模型：理论化的模型，分层体系结构，每层为独立子系统便于实现和维护。
  + 硬件层： 
    - 1物理层：
  + 网络层：
    - 2数据链路层：
    - 3网络层：
    - 4传输层：
  + 软件层：
    - 5会话层：
    - 6表示层：
    - 7应用层：
+ TCP/IP四层模型：传输控制/网络协议。
  - 1网络接口层：  
  - 2网际层IP：
  - 3传输层（TCP或UDP）：
  - 4应用层：
+ 五层模型：
  - 1物理层：
  - 2数据链路层：
  - 3网络层：
  - 4传输层：
  - 5应用层：
## 恶意代码：隐蔽、传染、潜伏、破坏
+ 被动传播恶意代码分类：  
  - 计算机病毒：
    -  引导型病毒：磁盘杀手病毒。
    -  宏病毒：Word宏病毒（批处理命令）
    -  多态病毒：逃避静态特征扫描，可通过行为查杀。
    -  隐藏病毒：隐藏文件的大小和时间加密等。
  - 木马：本地和网络
    - 文件捆绑法：将木马程序和文件捆绑在一起，用户打开文件时，木马程序随之启动。
    - 邮件炸弹法：将木马程序伪装成正常邮件，用户打开邮件时，木马程序随之启动。
    - web网站捆绑法：将木马程序伪装成正常网页，用户访问网页时，木马程序随之启动。
  - 间谍软件：主动执行用户不希望执行的程序。
  - 逻辑炸弹：条件触发破坏系统。
+ 主动传播恶意代码分类：
 - 陷门：允许特定用户登录系统。
 - 蠕虫：具有自我复制和传播功能，通过扫描IP段、端口、漏洞等，主动攻击其他计算机。
 - 僵尸网络：将僵尸程序注入到其他计算机中，使其成为僵尸网络的一部分，并执行攻击指令。
 - 细菌：有自我复制功能的代码，通过大量复制来消耗CPU资源。 
+ 恶意代码检测：
  - 静态检测：
    - 基于特征：
    - 基于语义
  - 动态检测：
    - 基于行为：
## 进程与线程
### 进程是最小的资源分配单元
+ 进程提供资源，线程占用必须的资源来执行任务。
+ 一个进程中的多个线程共享进程的资源，线程可以并发执行也可撤销其他线程。
### 线程（thread）最小的执行单元
+ 线程是程序执行流的最小单元，是CPU调度和分派的基本单位。
+ 不与同进程共享：程序计数器、寄存器、栈、状态字。
+ 共享：堆、全局变量、静态变量、文件描述符。
## 软件开发
### 软件需求分析：
+ 分析步骤：确定综合需求、分析系统数据需求、导出系统逻辑模型、修正开发计划、编写需求规格说明书。
+ 需求分类：功能需求（能干什么）、非功能需求（性能）、设计约束（法律限制、预算限制）。
### 软件生命周期
+ 软件定义、软件开发、运行维护三个时期组成。
+ 阶段：需求分析->设计->编码->测试->运行维护。
+ 常用开发模型：
  - 瀑布模型：至顶而下，依次进行，文档驱动，不易更改。
  - 增量模型：模块化开发，可拓展性高。
  - 螺旋模型：从上至下，加上模块开发，强调风险管理。
  - V模型：测试贯穿始终，迭代测试。
  - 原型模型：与瀑布相反，快速落实需求。
  - 敏捷模型：无文档，强调人的主观能动性。
## 图
### DFD数据流（程）图
+ 成分：
  - 数据流：用箭头表示。
  - 加工：用圆形或类矩形（角为弧线的矩形）表示。
  - 数据存储：用一组平行线或多加一条竖边表示。
  - 外部实体：用矩形表示。
### UML图（建模工具）
+ 可建立的模型：需求模型、功能模型、逻辑模型、设计模型、实现模型。
+ 为软件设计可视化模型、为软件系统建立构件、为软件系统建立文档。
#### 三个主要的模型 
+ 功能模型：从用户角度展示系统的功能。
+ 对象模型；采用对象、属性、操作、关联、依赖等概念来描述系统的结构。
+ 动态模型：展示系统在运行时系统内部的行为。包括（时序）序列图、活动图、状态图等。
+ 部署图：展示系统硬件、软件、网络的物理配置。
+ 状态图：展示系统在运行时状态的变化。
+ 活动图：展示系统在运行时内部活动的顺序，状态图的特殊形式。
+ 协作图：属于动态视图，展示对象之间的联系及交互消息。
+ 组件图：展示系统由哪些组件构成，以及组件之间的依赖关系。

## 协议：
### 文件传输——FTP协议：
+ 在服务器和客户端建立两条TCP链接，20端口用于数据连接，21端口负责数据控制传输命令和参数。
+ 匿名的FTP用户名为"anonymous"，密码为邮箱地址。多数的FTP服务器不允许上传、修改、删除操作。
+ 安全性：需要配置本地防火墙，否则难链接到指定端口。
+ 连通性：NAT模式下需要配置局域网端口映射。
#### 模式
+ 主动模式：客户端向服务器的21端口发送连接请求，服务器向客户端的20端口发送连接请求。
+ 被动模式：客户端向服务器的21端口发送连接请求，服务器向客户端发送连接请求。
+ com公司、net网络、org组织、gov政府、edu教育、mil军事、cn中国。
#### SFTP协议：
+ 套了一层SSH协议，使用22端口，数据传输需要通过安全通道进行。
#### FTPS协议：
+ 添加了传输层安全TLS和安全套接层SSL加密协议支持的拓展协议。
#### TFTP协议：
+ 基于UDP协议，使用69端口，传输速度快。
### 域名解析——DNS协议
+ 域名解析协议，使用UDP协议，端口53，将域名解析为IP地址，多域名可对应一个IP地址，IP具有唯一性。
+ 域名：由数字与字母（不区分大小写）组成，以"."分隔每一级，最后为顶级域名。
+ www网站、mail邮箱、news新闻。
+ 解析流程：
  + 本地解析： 
    * 本地DNS服务器（浏览器加本地DNS缓存）：查询本地缓存，如果命中则返回结果，否则继续查询。
    * hosts解析：查询本地hosts文件，如果命中则返回结果，否则继续查询。
  + 递归查询：逐级递归查询，如果查询到则返回结果，否则继续查询。
+ ARP：将IP地址解析为MAC地址，A（IP）：address、R（翻转）：resolution、P：protocol（协议）。
### 邮件协议：
+ 邮件传输协议（SMTP），端口24.
+ 邮件访问协议（POP3），端口110.
+ 邮件阅读协议（IMAP），端口143.
+ 简单网络协议（SNMP），端口161.
+ SMB：服务器消息块，端口139，用于局域网文件共享。

## 网络安全与攻击手段
### 注入攻击
+ **SQL注入攻击**：通过在输入字段中注入SQL语句，达到欺骗服务器执行恶意的SQL语句。
+ **XSS注入攻击**：注入脚本到网站或web程序中，用脚本攻击客户端。
+ 代码注入：注入代码攻击网站。
+ Xpath注入攻击：注入Xpath语句，达到欺骗服务器执行恶意的Xpath语句，获取私密数据。
### 网络安全防护
+ 网闸：网络安全隔离设备，是在两个不连通网络之间的硬件，在限制条件下传输数据。（无完整的网络连接、单向传输、数据格式认证）
+ 防火墙（借助硬件和软件）：在网络边界上，对流入流出的数据包进行过滤，阻止不符合规定的数据包通过。
  - 一代防火墙：包过滤，不检查数据。
  - 二代防火墙：应用代理、网关代理，基于协议的过滤，配置难速度慢。
  - 三代防火墙：状态检测技术防火墙，包过滤、应用代理、网关代理、数据包内容检测，配置简单、速度快。
+ IDS：入侵检测系统，对网络流量进行监测，发现异常情况，发出警告。（部署在内部、监控整个子网）
+ IPS（深度防火墙）：入侵防御系统，对网络流量进行监测，发现异常情况，采取措施。（部署在边界、抵御外部入侵、不防护内部攻击）
+ WAF：Web应用防火墙，对HTTP/HTTPS协议进行安全防护。
+ VPN：虚拟专用网络，在公共网络上建立专用网络，进行加密通讯。
+ 堡垒机：跳板机制，需要先访问堡垒机，再访问内部网络。

## 数据库（底层是数学）
### 数据库模型
+ 层次模型（网络结构的特例）：树形结构，数据结构简单，查询效率低。（数据独立性和抽象级别不够）
+ 网状模型（对现实的抽象）：有向图，存取效率高，维护开发复杂，数据结构复杂，查询效率高。（数据独立性和抽象级别不够）
+ 关系模型（关系代数的抽象）：**二维表结构**，数据结构简单，查询效率高，使用sql查询，底层对开发者不可见，非关系数据库Nosql可能可以用部分的SQL查询。
### 触发器trigger，一个表最多有6个
+ 触发器：在满足一定条件时，自动执行的SQL语句。
+ 创建：创建触发器：create trigger 触发器名 before/after 触发事件 on 表名 for each row 触发器体
  - before：在事件之前触发，after：在事件之后触发。
  - for each row：行级触发。
  - for each statement：语句级触发。
+ 修改：alter trigger 触发器名 disable/enable
+ 删除：drop trigger 触发器名
### 存储过程
+ 存储过程：一组经过预编译的SQL语句的集合，理解成批处理语句。
+ 特点：可重复利用，解决复杂问题、执行速度快、节约网络开销，安全。
+ 创建存储过程：CREATE procedure 名称 (IN/OUT/INOUT 参数名 参数类型)
```
BEGIN 
  语句
END
```
+ 游标：用于存储查询结果的数据类型，使用游标可以对查询结果进行遍历。
  - 声明游标：DECLARE 游标名 CURSOR FOR 查询语句。
  - 打开游标：OPEN 游标名。
  - 关闭游标：CLOSE 游标名。
  - 提取游标：FETCH 游标名
+ 调用存储过程：CALL 名称 (参数列表),，删除存储过程：DROP PROCEDURE 名称，修改存储过程：ALTER PROCEDURE 名称 COMMENT '注释。
### 数据依赖
+ 函数依赖（语义完整性约束）： 
  - 平凡依赖：只能决定自己，可无视的依赖
  - 非平凡依赖：可决定别人。
  - 完全函数依赖：需要和别人一起才能确定你。
  - 局部函数依赖：我的一部分即可决定你。
  - 传递函数依赖：我决定你，你决定别人，我决定别人。
+ 连接依赖：R所有属性在实例上投影，投影结果进行连接计算后结果还等于实例本身。
+ 多值依赖：一个值对应了多个属性。 
  - 函数依赖的多值依赖：属性值是1对1关系，任何函数都满足。
  - 非函数依赖的多值依赖：属性值是1对多关系，部分函数满足。
### 数据库范式（Normal From）
+ 1NF：属性不可分，每个属性都是不可再分的最小数据项。
+ 2NF：非主属性完全依赖于主键，完全：或直接或间接。
+ 3NF：非主属性直接依赖于主键，直接管理。
+ BCNF：消除3NF中主属性依赖。（3.5NF）
+ 4NF：消除3NF中多值依赖。
+ 模式分解：分解后的模式与原模式等价（分解后可无损还原，保持函数依赖 ）
### 属性闭包
+ 属性闭包：属性依赖的集合。
#### 函数依赖公理
+ 自反律：X->Y，则Y->X。
+ 增广律：X->Y，Y->Z，则X->Z。
+ 传递律：X->Y，Y->Z，则X->Z。
+ 合取范式：X->Y，Y->Z，则X->YZ。
+ 伪传递规则：X->Y，WY->Z，则XW->Z被F所蕴含。
+ 分解规则：X->Y，Z->Y，则X->Z被F所蕴含。
#### 函数依赖闭包F+
+ 由一个属性直接或间接推出来的所有属性的集合。
#### 属性闭包X+（F右下标）
+ 将属性集合X中的属性X1,X2,X3,...,Xn进行闭包运算（带入函数中），得到的结果组成的集合称为X在函数F下的闭包。
### 数据库模式与映像
#### 三级模式（模式之间是相互独立的）
+ 外模式：用户可以直接使用的模式，称为“子模式”，视图层。
  - 用途：简化用户与系统交互，保证数据安全、保密。
  - 对应：应用程序视图、部分基本表，
  - 外模式与模式是多对一的关系。
  - 具体：通过DML进行CURD数据操作。
+ 模式：数据库中所有数据项的集合，逻辑层，描述数据逻辑结构和特征
  - 用途：储存什么数据，数据之间用什么关系。
  - 对应：数据库中所有基本表，
  - 具体：通过DDL定义结构（库、表、视图，不含具体值）
+ 内模式：数据库的逻辑结构和存储结构，数据库的“本体”，实体层。
  - 用途：存储数据，数据的储存方式、是否加密、是否有索引。
  - 对应：物理结构，储存文件。
  - 具体：底层数据储存方法和存取方法。
  - 内模式与模式是一对一的关系。
+ 其他
  - 内模式是客观存在的，是操作的基础。
  - 概念级数据库是数据库的一种逻辑、抽象的描述即模式。
  - 用户级数据库是用户与数据库的接口、是概念级数据库的子集。
  - 修改内模式：修改模式/内模式映像（物理独立性）
  - 修改概念模式（逻辑结构）：修改外模式/模式（逻辑独立性）
#### 两级映像（保证数据逻辑独立性、物理独立性）
+ 外模式-内模式映像：用户通过外模式访问数据库，由内模式提供数据。
+ 模式-内模式映像：数据库管理员通过模式访问数据库，由内模式提供数据。
### 完整性约束
+ 实体完整性：主属性唯一，不能为空。（属性为实体的一个特征，候选码为能唯一标识实体的属性集合，主属性为候选码码的所有属性，主码为候选码属性中一个属性）
+ 参照完整性：外码引用主码。（定义两表关系，常为其他关系模式住建）
+ 用户定义完整性（约束）：对某一列或几列的值进行约束，数据满足语义要求,列级约束可在定义时声明也可先定义后声明。
  + NOT NULL：非空约束
  + UNIQUE：唯一约束
  + PRIMARY KEY：主键约束
  + FOREIGN KEY：外键约束
  + CHECK：检查约束，即范围限制。
  + DEFAULT：默认值约束
### 数据库关系运算
+ 集合运算符：X 笛卡尔积 
+ 关系运算符（运算结束时要去重）：
  + 选择：σ
  + 投影：π，选择其中一部分符合条件的
  + 连接：两个等边三角形相对成8字形，θ：条件连接有，对笛卡尔积有条件的连接。 
  + 除：除号，同时在横向和纵向进行运算。
  + 象集：含X属性的所有项。
### 数据库事务
+ 定义：数据库操作序列，满足ACID特性。
+ 特性：
  - **原子性（atomiction）**：不可分割，要么都执行，要么都不执行。
  - **一致性**：事务执行前后，数据库状态一致。
  - **隔离性**：并发事务之间相互隔离。
  - **持久性**：事务执行后，对数据库的修改是持久的。
### SQL语句：结构化查询语言
+ 定义：关系数据库语言，用于与数据库通信的语言。SQL(Structured Query Language),注MySQL实现了SQL的大部分标准，但是也进行了拓展。
+ **特点**：
  - **综合统一**：数据定义、操纵、控制与一体，可独立完成数据库生命周期所有活动。（非关系数据库：分为模式定义语言和操纵语言，修改模式时必须停止运行数据库，转存数据，重新编译安装）
  - **高度非过程化语言**，不涉及具体算法，只涉及数据定义、数据操纵、数据控制等，面向过程。（非关系；面向过程）
  - 面向集合的操作方式：集合运算符，集合运算符的结果是集合。（非关系：面向记录）
  - **两种使用方式**：
    - 交互方式：用户通过命令行界面输入SQL语句，由系统解释执行。
    - 嵌入式方式：SQL语句嵌入在宿主编程语言程序中，由宿主语言程序解释执行。
  - **语法简单易用**：语言功能强，核心功能仅有9个动词
    - DQL(Data Query Language)：数据查询语言，用于查询数据，动词：SELECT
    - DDL(Data Definition Language)：数据定义语言，用于定义数据库对象，动词：CREATE、DROP、ALTER
    - DML(Data Manipulation Language)：数据操纵语言，用于对数据库中表的记录进行更新，动词：INSERT、UPDATE、DELETE
    - DCL(Data Control Language)：数据控制语言，用于定义数据库的访问权限和安全级别，动词：GRANT、REVOKE
#### SQL授权和消权
+ grant(授权) ：分配权限给特定用户，若不存在则创建用户。
  - 格式：grant 权限1,权限2,… ON 数据库对象 TO 用户
+ revoke(消权)：收回已分配的权限。
  - 格式：revoke 权限1,权限2,… ON 数据库对象 FROM 用户
+ 注：特权只能由授予权限的用户撤销，或通过CASCADE（收回它分发出去的权限）选项撤销。
#### 数据查询：SELECT
+ 格式：
  - SELECT 列名1,列名2,… FROM 表名 WHERE 条件
  - SELECT * FROM 表名
+ 基本查询：(执行顺序：from->where->select)

|ID|关键词|实例|
|:--:|:--:|:--:|
|1|SELECT(投影)|输入列名、表达式、集聚函数|
|2|FROM(笛卡尔积)|输入表名|
|3|WHERE(选择)|输入列名、表达式、逻辑运算符|
+ WHERE子句运算符：
  - 比较运算符：=、>、<、>=、<=、<>、!=
  - 逻辑运算符：AND、OR、NOT
  - 集合运算符：IN、NOT IN
  - 字符串匹配：LIKE、NOT LIKE
  - 其他运算符：等价：>=and=<
+ 连接（多表）查询：
  - 内连接（join）：等值连接(公共属性连接)、不等值连接、自连接(将两个表看为一张表)
  - 外连接：左外连接、右外连接、全外连接
  - 自然连接：自动去除重复的列，自动进行等值连接
### 数据库故障与恢复

|故障类型|故障原因|说明|故障描述|修复方式|备注|
|:--:|:--:|:--:|:--:|:--:|:--:|
|事务故障|程序执行错误（逻辑、系统错误）|非法输入、系统锁死|在结束前终止|撤销故障事务|系统自动完成，系统重启后自动执行|
|系统故障（软故障）|硬件故障、软件漏洞|导致内存信息丢失，不破坏磁盘数据|事务提交后，部分数据可能已经入库导致数据不一致|重做已提交事务|系统重启后自动执行|
|介质故障|介质损坏|破坏了数据库，影响正在读取数据的事务|数据库操作破坏|重装数据库、装载备份和日志文件|需要DBA介入，在由系统撤销或重做|
 
### 数据库锁
+ 行锁、页锁、表锁，锁的颗粒度不同，锁的开销也不同。
#### 锁的类型

|锁类型|特点|作用|效果| 
|:--:|:--:|:--:|:--:|
|共享锁|允许事务读取数据|防止其他事务修改数据|允许读取，不允许修改|
|排他锁|允许事务修改数据|防止其他事务修改数据|允许读取和修改，不允许其他事务修改|
|意向锁|允许事务读取数据|防止其他事务修改数据|允许读取，不允许修改|

+ 意向锁：用于用户多颗粒度并存的场景，标识在较高层面上，示意是否加锁，其子节点默认会被加锁。加行锁前，事务会自动获取它的表意向锁以避免遍历。（**提高并发，减少开销**）
+ 共享意向锁、排它意向锁、自动添加。
## 其他
+ 符号表管理
 - 符号表的作用是记录源程序中各种符号的必要信息，以辅助语义的正确性检查和代码生成，在编译过程中需要对符号表进行快速有效地查找、插入、修改和删除等操作。
+ 出错处理
 - 源程序中不可避免地会有一些错误，大致分为静态错误和动态错误。
  * 动态错误发生在程序运行时，如:变量取零时作除数、引用数组下标错误等。 
  * 静态错误是指编译阶段发现的程序错误，可分为语法错误和静态语义错误。① 语法错误:单词拼写错误、标点符号错、表达式中缺少操作数、括号不匹配等有关语言结构上的错误。
  * 静态语义错误:语义分析时发现的运算符和运算对象类型不合法等错误。
+ 直接引用和间接引用，值传递和地址传递。